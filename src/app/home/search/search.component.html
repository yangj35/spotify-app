<h1>Need Music?</h1>
<p class="lead">Use SpotifyApp to browse new releases and find music!</p>

<form>
    <h5>Songs:</h5>
    <div class="form-group">
        <input type="text" name="trackSearchStr" class="form-control"
                [(ngModel)]="trackSearchStr"
                (keyup)="searchTracks()"
                [ngbTypeahead]="searchTrack"
                [resultTemplate]="trackRT"
                (selectItem)="onTrackSelect($event)"
                [inputFormatter]="trackFormatter"
                placeholder="Search Music...">
    </div><br>
    <h5>Artists:</h5>
    <div class="form-group">
        <input type="text" name="artistSearchStr" class="form-control"
                [(ngModel)]="artistSearchStr"
                (keyup)="searchArtists()"
                [ngbTypeahead]="searchArtist"
                [resultTemplate]="artistRT"
                (selectItem)="onArtistSelect($event)"
                [inputFormatter]="artistFormatter"
                placeholder="Search Artists...">
    </div>
</form>


<ng-template #artistRT let-r="result" let-t="term">
        <img *ngIf="r.images.length > 0" [src]="r.images[0].url" class="me-1" style="width: 50px; float: left"/>
        <i *ngIf="r.images.length == 0" class="fas fa-search me-1" style="width: 50px; text-align: center; float: left"></i>
        <ngb-highlight [result]="r.name" [term]="t"></ngb-highlight><br>
        <span *ngFor="let genre of r.genres; let isLast=last"><small>{{genre}}{{isLast ? '' : ', '}}</small></span>
</ng-template>

<ng-template #trackRT let-r="result" let-t="term">
    <img *ngIf="r.album.images.length > 0" [src]="r.album.images[0].url" class="me-1" style="width: 50px; float: left"/>
    <i *ngIf="r.album.images.length == 0" class="fas fa-search me-1" style="width: 50px; text-align: center; float: left"></i>
    <ngb-highlight [result]="r.name" [term]="t"></ngb-highlight><br>
    <span *ngFor="let artist of r.artists; let isLast=last"><small>{{artist.name}}{{isLast ? '' : ', '}}</small></span>
</ng-template>